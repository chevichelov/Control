# CONTROL
1.	Сегодня на базе Arduino мы соберём вот такую контрольку, которая содержит следующие функции: вольтметр и прозвонка, кстати экран мерцает только на камеру, в жизни такого эффекта нет, анализатор частоты с функцией поиска CAN шины и осциллограф, давайте разберём все функции более подробно. 
2.	Опция первая, это вольтметр и прозвонка. На экране у нас так же имеется индикатор заряда батареи. С помощью функции прозонки можно найти массу, на приборе загорается зелёный светодиод, на экране высвечивается надпись MASS и появляется непрерывный звуковой сигнал. С помощью вольтметра можно определить плюсовой провод и измерить на нём напряжение, погрешность в измерениях связана с тем, что я в скетче не точно указал сопротивление резисторов, так же у нас присутствует световая индикация в виде загоревшегося красного цвета на светодиоде и прерывистого звукового сигнала. Звуковой сигнал можно отключить кнопкой SETTING, так же на контрольке присутствует опция правша / левша.
3.	Вторая опция контрольки это поиск CAN шины, во время её включения на экране прибора отображается следующая информация: напряжение, пиковое напряжение сигнала, частота, скважность сигнала в процентах и индикатор CAN шины HIGH или LOW. Так как модуля CAN шины у меня нет, поэтому в качестве испытуемого будем использовать Arduino Nano. У нас на выходах D5 и D6 - 976 Гц., а на D9 - 488 Гц. Первым проверяем выход D5, на нём прибор определяет шину, как CAN LOW, показывает частоту 984 Гц., напряжение 1.35 вольта, пиковое напряжение 2.3, скважность сигнала 53%. Пин D6 контролька определяет, как CAN HIGH, на нём у нас завышенное напряжение 4.1 вольта, а должно быть 3,7, частота 984 Гц., пиковое напряжение 4.5 вольта, скважность сигнала 90%. На пине D9 прибор определил шину, как CAN HIGH, напряжение в пределах нормы, 2.86 вольт, зато пиковое напряжение 4.7, что выше нормы, скважность сигнала 56% и очень низкая частота 493Гц., так как шины общаются на частоте 5МГц. Несмотря пока на примитивное определение CAN шины, у нас уже достаточно данных, чтобы диагностировать, что со всеми представленными в тесте псевдо-САN шинами у нас проблемы. Опция правша / левша в этом режиме так же работает.
4.	Опция третья - осциллограф. С помощью осциллографа мы с вами можем исследовать сигнал, поступающий на игру прибора, в правом верхнем углу отображается напряжение, в левом время исследования сигнала, сама сетка адаптируется под напряжение входящего сигнала и автоматически масштабируется под него. Как и на всех предыдущих режимах, у нас так же работает функция правша / левша. Нажатием клавиши SETTING, мы переключаем время исследования сигнала, в прошивки по умолчанию заданы следующие параметры: "200мкс", "500мкс", "1мс", "2мс", "5мс", "10мс", "20мс", "50мс". 

### Links
- Youtube видеоинструкция: [Контролька на Arduino, с функциями осциллографа, поиска CAN шины, частотомера, вольтметра, прозвонки](https://youtu.be/jtUHzGFVvMU)
